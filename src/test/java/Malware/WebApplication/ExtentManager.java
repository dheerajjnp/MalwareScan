package Malware.WebApplication;
import java.util.HashMap;
import java.util.Map;

import com.relevantcodes.extentreports.ExtentReports;
import com.relevantcodes.extentreports.ExtentTest;


	public class ExtentManager {
	
		static Map extentTestMap = new HashMap();
	    static ExtentReports extent = ExtentManager.getReporter();
		 
		
		    public synchronized static ExtentReports getReporter() {
		        if (extent == null) {
		            //Set HTML reporting file location
		          //  String workingDir = System.getProperty("user.dir");
		            extent = new ExtentReports("test-output/ExtentReportResults.html", true);
		            
		            //extent.loadXMLConfig(System.getProperty(workingDir + "/extent-config.xml"));
		        }
		        return extent;
	    }



			
		 
		    public static synchronized ExtentTest getTest() {
		        return (ExtentTest) extentTestMap.get((int) (long) (Thread.currentThread().getId()));
		    }
		 
		    public static synchronized void endTest() {
		        extent.endTest((ExtentTest) extentTestMap.get((int) (long) (Thread.currentThread().getId())));
		        
		    }
		 
		    public static synchronized void writeExtentResult() {
		        extent.flush();;
		        
		    }
		    
		    @SuppressWarnings("unchecked")
			public static synchronized ExtentTest startTest(String testName, String desc) {
		        ExtentTest test = extent.startTest(testName, desc);
		        extentTestMap.put((int) (long) (Thread.currentThread().getId()), test);
		        return test;
		    }
		}

	


